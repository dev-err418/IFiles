(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{109:function(e,t,n){"use strict";var r=n(21),i=n.n(r),o=n(60),c=n.n(o),s=n(29),l=n.n(s),a=n(25),u=n.n(a),p=n(0),j=n.n(p),f=n(134),d=n(6),h=n(14),b=n(82),g=n(7),x=n(139),O=n(140),y=n(1);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=function(){var e=Object(p.useState)(!1),t=l()(e,2),n=t[0],r=t[1],i=Object(p.useState)(0),o=l()(i,2),s=o[0],a=o[1],f=Object(p.useState)(""),d=l()(f,2),g=d[0],m=d[1],v=Object(p.useState)([]),C=l()(v,2),D=C[0],P=C[1],J=Object(p.useCallback)((function(e,t){var n=e.map((function(e){return{file:e,errors:[]}}));P((function(e){return[].concat(c()(e),c()(n),c()(t))}))}),[]),S=Object(O.a)({onDrop:J}),W=S.getRootProps,R=S.getInputProps,z=function(e){P((function(t){return t.filter((function(t){return t.file!==e}))}))};function B(e,t){var n,i,o,c;return u.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return n=function(e){console.log("uploading files with cid:",e),m(e)},i=e.map((function(e){return e.size})).reduce((function(e,t){return e+t}),0),o=0,c=function(e){o+=e,console.log(i,o);var t=o/i*100;a(t<100?t:100),console.log("Uploading... "+t.toFixed(1)+"% complete")},r(!0),s.abrupt("return",t.put(e,{onRootCidReady:n,onStoredChunk:c}));case 6:case"end":return s.stop()}}),null,null,null,Promise)}return Object(y.jsx)(j.a.Fragment,{children:Object(y.jsxs)("div",w(w({},W()),{},{style:{height:"100%",width:"100%",boxShadow:"0px 0px 50px lightgray",borderRadius:"15px",justifyContent:D.length>0?"space-evenly":"center",alignItems:"center",display:"flex",flexDirection:"column"},children:[Object(y.jsx)("input",w(w({},R()),{},{disabled:n})),D.length>0?Object(y.jsx)(h.a,{style:{marginBottom:"40px",fontWeight:"600",marginTop:"20px"},children:"Click background to add more files"}):Object(y.jsx)(h.a,{style:{fontWeight:"600"},children:"Drag some files here, or click to upload"}),D.map((function(e,t){return Object(y.jsx)(I,{file:e.file,onDelete:z},t)})),D.length>0?Object(y.jsx)(b.a,{style:{marginTop:"40px",padding:"15px",borderRadius:"15px",boxShadow:"0px 0px 15px lightgray",marginBottom:"10px"},onPress:function(){return function(e){var t,n,r,i;return u.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:for(t=new x.a({token:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJkaWQ6ZXRocjoweDdlYjhhQTFiQjU2YjRBYjQyOUJjNjFjOTZDMEY4ZWQ0N2I3ZTNmNzciLCJpc3MiOiJ3ZWIzLXN0b3JhZ2UiLCJpYXQiOjE2NDMxMDYwNTc2MTksIm5hbWUiOiJmcmVja2xlc19iZXRhIn0.LDAqENz1d3GDm03rHH12lyYPtES46B3qKfnsY1w249Q"}),console.log(e),n=[],r=0;r<e.length;r++)i=e[r].file,n.push(i);console.log(n),B(n,t);case 6:case"end":return o.stop()}}),null,null,null,Promise)}(D)},children:Object(y.jsx)(h.a,{style:{fontWeight:"600"},children:"Upload \ud83d\udce1"})}):null,n?Object(y.jsx)(k,{progress:s,cid:g}):null]}))})},I=function(e){var t=e.file,n=e.onDelete;return Object(y.jsxs)(g.a,{style:{display:"flex",flexDirection:"row",width:"calc(100% - 80px)",justifyContent:"space-between",marginBottom:"10px"},children:[Object(y.jsx)(h.a,{style:{fontWeight:"500"},children:t.name.substring(0,30)}),Object(y.jsx)(b.a,{onPress:function(){return n(t)},children:Object(y.jsx)(h.a,{children:"\ud83d\uddd1"})})]})},k=function(e,t){return Object(p.useEffect)((function(){console.log("&",e.progress)}),[e]),Object(p.useEffect)((function(){console.log(e.cid)}),[t]),Object(y.jsx)(g.a,{style:{position:"fixed",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.2)",height:"100vh",width:"100vw",top:0,left:0,zIndex:10},children:Object(y.jsx)(g.a,{style:{padding:"20px",borderRadius:"15px",backgroundColor:"rgb(235, 235, 235)"},children:100==e.progress?Object(y.jsxs)(g.a,{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[Object(y.jsx)(h.a,{style:{marginBottom:"20px",fontWeight:"600"},children:"That's your link !"}),Object(y.jsx)(h.a,{style:{marginBottom:"10px"},children:"Share it with whoever you want."}),Object(y.jsxs)(h.a,{children:["https://",String(e.cid),".ipfs.dweb.link"]})]}):Object(y.jsxs)(g.a,{children:[Object(y.jsx)(h.a,{style:{marginBottom:"20px"},children:"Your files are uploading..."}),Object(y.jsx)(f.a,{color:"lightgray",size:"large"})]})})})};d.a.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center"}});t.a=function(){return Object(y.jsxs)(g.a,{style:{display:"flex",alignItems:"center",minHeight:"100vh",justifyContent:"space-between"},children:[Object(y.jsx)(h.a,{style:{fontSize:"3rem",margin:"15vw",textAlign:"center",fontWeight:"800",marginVertical:"60px",padding:0},numberOfLines:2,children:"Add your files and share them with the world ! \ud83c\udf0d"}),Object(y.jsx)(g.a,{style:{minWidth:"400px",maxWidth:"800px",minHeight:"400px",borderRadius:"15px",marginBottom:"25vh"},children:Object(y.jsx)(v,{})})]})}},141:function(e,t,n){e.exports=n(273)}},[[141,1,2]]]);
//# sourceMappingURL=app.6b36967f.chunk.js.map
